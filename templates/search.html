<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tech Nova - Search Results</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="overlay" id="overlay"></div>
    {% include 'popups.html' %}
    <!-- Header (Reused from Home.html) -->
    <div class="header">
        <div class="date-container">
            <span class="date">{{ current_date }}</span>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendarPopup()"></i>
        </div>
        <div class="logo-container">
            <header><img src="{{ url_for('static', filename='uploads/technova.png') }}" alt="Tech Nova Logo" class="logo"></header>
        </div>
        <div class="search-login-container">
            <div class="search-container">
                <input type="text" placeholder="search" id="searchInput" class="search-bar-inline" value="{{ query }}">
                <button class="search-btn" onclick="performSearch()"><i class="fas fa-search"></i></button>
            </div>
            <div class="icons">
                <div id="userLoginBtn" class="login-btn" onclick="openLoginPopup()"><i class="fas fa-user"></i><span>Login</span></div>
                <div id="userProfileBtn" style="display: none;" onclick="openUserPopup()">
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=1e90ff&color=fff" alt="User" class="user-avatar-small">
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav">
        <a href="/" class="{{ 'active' if request.path == '/' else '' }}">HOME</a>
        <a href="/AI" class="{{ 'active' if request.path == '/AI' else '' }}">AI</a>
        <a href="/Gadget" class="{{ 'active' if request.path == '/Gadget' else '' }}">GADGET</a>
        <a href="/Apps" class="{{ 'active' if request.path == '/Apps' else '' }}">APPS</a>
        <a href="/Blockchain" class="{{ 'active' if request.path == '/Blockchain' else '' }}">BLOCKCHAIN</a>
        <a href="/Cybersecurity" class="{{ 'active' if request.path == '/Cybersecurity' else '' }}">CYBER SECURITY</a>
    </div>

    <!-- Search Results -->
    <div class="container">
        <h2>Search Results for "{{ query }}"</h2>
        {% if search_results %}
            <div class="news-grid">
                {% for article in search_results %}
                <div class="news-item" data-article-id="{{ article._id }}">
                    <img src="{{ article.image_url or 'https://via.placeholder.com/300' }}" alt="{{ article.title }}">
                    <div class="info">
                        <div class="likes" onclick="toggleLike(this)"><i class="fas fa-thumbs-up"></i><span>{{ article.likes or '0' }}</span></div>
                        <div class="report" onclick="reportPost(this)">Report</div>
                    </div>
                    <div class="news-title">{{ article.title }}</div>
                    <a href="{{ article.url }}" class="description-link"><div class="news-description">{{ article.summary }}</div></a>
                    <div class="news-author">{{ article.source }} <span class="follow {{ 'following' if article.is_following else '' }}" onclick="toggleFollow(this)">{{ 'Following' if article.is_following else '+ Follow' }}</span></div>
                </div>
                {% else %}
                <p>No articles found matching your search.</p>
                {% endfor %}
            </div>
        {% else %}
            <p>No articles found matching your search.</p>
        {% endif %}
    </div>

    <!-- Footer -->
    <div class="footer">
        Â© 2025 Tech Nova. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a>
    </div>

    <!-- Include Popups and Scripts -->
    {% include 'popups.html' %}
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>